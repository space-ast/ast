<!doctype html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.98" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Time Module","image":[""],"dateModified":"2026-01-21T11:03:44.000Z","author":[{"@type":"Person","name":"space-ast","url":"https://github.com/space-ast"}]}</script><meta property="og:url" content="https://github.com/space-ast/ast/ast/en/core/time.html"><meta property="og:site_name" content="ast docs"><meta property="og:title" content="Time Module"><meta property="og:description" content="Time Module Note: This document is AI-translated. For specific APIs and behaviors, please refer to the source code. Module Overview The Time module provides comprehensive time h..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2026-01-21T11:03:44.000Z"><meta property="article:modified_time" content="2026-01-21T11:03:44.000Z"><link rel="alternate" hreflang="zh-cn" href="https://github.com/space-ast/ast/ast/core/time.html"><title>Time Module | ast docs</title><meta name="description" content="Time Module Note: This document is AI-translated. For specific APIs and behaviors, please refer to the source code. Module Overview The Time module provides comprehensive time h...">
    <link rel="preload" href="/ast/assets/style-DDar-0I9.css" as="style"><link rel="stylesheet" href="/ast/assets/style-DDar-0I9.css">
    <link rel="modulepreload" href="/ast/assets/app-B_UNdQRb.js"><link rel="modulepreload" href="/ast/assets/time.html-C_ylPejb.js"><link rel="modulepreload" href="/ast/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/ast/assets/index.html-DYaPc-85.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-B25V270f.js" as="script"><link rel="prefetch" href="/ast/assets/frame-transform.html-Ck_c2xTm.js" as="script"><link rel="prefetch" href="/ast/assets/orbit-element.html-C1jaohvc.js" as="script"><link rel="prefetch" href="/ast/assets/orbit-param.html-MMgcqGdF.js" as="script"><link rel="prefetch" href="/ast/assets/sofa.html-BBfhsQpV.js" as="script"><link rel="prefetch" href="/ast/assets/time.html-D5OpRPIO.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-CfDgTN9h.js" as="script"><link rel="prefetch" href="/ast/assets/math.html-W2EZOw2O.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-CC-Ko-RR.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-DFQpCbFa.js" as="script"><link rel="prefetch" href="/ast/assets/attitude.html-D_1dhtGO.js" as="script"><link rel="prefetch" href="/ast/assets/ode.html-wTB-EbSx.js" as="script"><link rel="prefetch" href="/ast/assets/operator.html-DUoL_kTN.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-DVs42Bx4.js" as="script"><link rel="prefetch" href="/ast/assets/literals.html-BALdfOcc.js" as="script"><link rel="prefetch" href="/ast/assets/quantity.html-B05RpHt3.js" as="script"><link rel="prefetch" href="/ast/assets/smart-pointer.html-Bwx6cgoH.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-BkP74-dq.js" as="script"><link rel="prefetch" href="/ast/assets/hpop.html-Dy0OYKQD.js" as="script"><link rel="prefetch" href="/ast/assets/j2-analytical.html-CsF1JfyL.js" as="script"><link rel="prefetch" href="/ast/assets/j4-analytical.html-DzZkKjwz.js" as="script"><link rel="prefetch" href="/ast/assets/two-body.html-FS4sswA6.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-CkGN7Dvt.js" as="script"><link rel="prefetch" href="/ast/assets/frame-transform.html-0amuoYcS.js" as="script"><link rel="prefetch" href="/ast/assets/orbit-element.html-v-nDzQVV.js" as="script"><link rel="prefetch" href="/ast/assets/orbit-param.html-6WBF-2Bt.js" as="script"><link rel="prefetch" href="/ast/assets/sofa.html-CGyQ7g7Z.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-B03lewXc.js" as="script"><link rel="prefetch" href="/ast/assets/attitude.html-B7cctHwY.js" as="script"><link rel="prefetch" href="/ast/assets/operator.html-BB95GBKg.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-zpq6CnR7.js" as="script"><link rel="prefetch" href="/ast/assets/literals.html-8q-60vPg.js" as="script"><link rel="prefetch" href="/ast/assets/quantity.html-o23gRSc_.js" as="script"><link rel="prefetch" href="/ast/assets/smart-pointer.html-Nk3ePkvf.js" as="script"><link rel="prefetch" href="/ast/assets/index.html-IM8kv01V.js" as="script"><link rel="prefetch" href="/ast/assets/hpop.html-DQOyBGSC.js" as="script"><link rel="prefetch" href="/ast/assets/j2-analytical.html-CTexNnHI.js" as="script"><link rel="prefetch" href="/ast/assets/j4-analytical.html-DNR7W-C0.js" as="script"><link rel="prefetch" href="/ast/assets/two-body.html-DXjdl_Ze.js" as="script"><link rel="prefetch" href="/ast/assets/404.html-fJ6x8MSO.js" as="script"><link rel="prefetch" href="/ast/assets/photoswipe.esm-CKV1Bsxh.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/ast/en/" aria-label="Take me home"><img class="vp-nav-logo" src="/ast/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">ast docs</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/ast/en/" aria-label="docs home"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" sizing="height" height="1em"></iconify-icon><!--]-->docs home<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/ast/en/core/time.html" aria-label="English"><!---->English<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/ast/core/time.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/space-ast/ast" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/" aria-label="docs home"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->docs home<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Core Module</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/core/" aria-label="Core Module"><!---->Core Module<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/core/frame-transform.html" aria-label="Frame Transform Module"><!---->Frame Transform Module<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/core/orbit-element.html" aria-label="Orbit Elements Definition and Conversion"><!---->Orbit Elements Definition and Conversion<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/core/orbit-param.html" aria-label="Orbit Parameter Calculation"><!---->Orbit Parameter Calculation<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Orbit Propagator Module</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/ast/en/core/sofa.html" aria-label="SOFA Astronomical Calculation Module"><!---->SOFA Astronomical Calculation Module<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/ast/en/core/time.html" aria-label="Time Module"><!---->Time Module<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Math Module</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Utility Module</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Time Module</h1><div class="page-info"><span class="page-author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/space-ast" target="_blank" rel="noopener noreferrer">space-ast</a></span><span property="author" content="space-ast"></span></span><!----><span class="page-date-info" aria-label="Writing DateğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">12/19/25</span><meta property="datePublished" content="2025-12-19T12:08:49.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 1 min</span><meta property="timeRequired" content="PT1M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="time-module" tabindex="-1"><a class="header-anchor" href="#time-module"><span>Time Module</span></a></h1><p><em>Note: This document is AI-translated. For specific APIs and behaviors, please refer to the source code.</em></p><h2 id="module-overview" tabindex="-1"><a class="header-anchor" href="#module-overview"><span>Module Overview</span></a></h2><p>The Time module provides comprehensive time handling functionality, including date, time, date-time, Julian Date, Modified Julian Date, duration, and time system conversions. This module is a fundamental component for astrodynamics and aerospace dynamics calculations, supporting conversions and operations between various time representations.</p><h2 id="core-concepts" tabindex="-1"><a class="header-anchor" href="#core-concepts"><span>Core Concepts</span></a></h2><h3 id="time-representation-types" tabindex="-1"><a class="header-anchor" href="#time-representation-types"><span>Time Representation Types</span></a></h3><p>The module defines the following main time representation types:</p><ol><li><p><strong>Date</strong></p><ul><li>Represents year, month, day information</li><li>Supports leap year checking, month day calculation, day of year calculation, etc.</li></ul></li><li><p><strong>Time</strong></p><ul><li>Represents hour, minute, second information</li><li>Supports time normalization, total second calculation, etc.</li></ul></li><li><p><strong>DateTime</strong></p><ul><li>Combines date and time information</li><li>Supports local time to UTC conversion, date-time normalization, etc.</li></ul></li><li><p><strong>JulianDate</strong></p><ul><li>Time representation method used in astronomy</li><li>Supports conversion between date-time and Julian Date</li></ul></li><li><p><strong>ModJulianDate (Modified Julian Date)</strong></p><ul><li>Simplified form of Julian Date</li><li>Based on JulianDate class, providing a more concise representation</li></ul></li><li><p><strong>Duration Types</strong></p><ul><li><strong>ShorDuration</strong>: Short duration, using double to represent seconds</li><li><strong>LongDuration</strong>: Long duration, using separate integer and fractional seconds</li><li><strong>DaySecDuration</strong>: Integer days + fractional seconds, suitable for long time spans</li></ul></li></ol><h3 id="time-systems" tabindex="-1"><a class="header-anchor" href="#time-systems"><span>Time Systems</span></a></h3><p>The module supports conversions between the following time systems:</p><ul><li><strong>TAI (International Atomic Time)</strong>: International Atomic Time</li><li><strong>TT (Terrestrial Time)</strong>: Terrestrial Dynamical Time, used in astrodynamics calculations</li><li><strong>GPS (GPS Time)</strong>: Global Positioning System Time</li><li><strong>UTC (Coordinated Universal Time)</strong>: Coordinated Universal Time</li></ul><h2 id="usage-examples" tabindex="-1"><a class="header-anchor" href="#usage-examples"><span>Usage Examples</span></a></h2><h3 id="_1-date-time-creation-and-normalization" tabindex="-1"><a class="header-anchor" href="#_1-date-time-creation-and-normalization"><span>1. Date-Time Creation and Normalization</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/DateTime.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    AST_USING_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    DateTime dttm;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 31</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 23</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 59</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 60.5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // åŒ…å«å°æ•°ç§’</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;è§„èŒƒåŒ–å‰:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              &lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aDateTimeNormalizeUTC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(dttm);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;è§„èŒƒåŒ–å:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              &lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-julian-date-conversion" tabindex="-1"><a class="header-anchor" href="#_2-julian-date-conversion"><span>2. Julian Date Conversion</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/JulianDate.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/DateTime.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    AST_USING_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    DateTime dttm;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;åŸå§‹æ—¥æœŸæ—¶é—´:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              &lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è½¬æ¢ä¸ºå„’ç•¥æ—¥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    JulianDate jd;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aDateTimeToJD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(dttm, jd);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;å„’ç•¥æ—¥:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> jd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">impreciseDay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è½¬æ¢å›æ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    DateTime dttm2;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aJDToDateTime</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(jd, dttm2);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;è½¬æ¢å›æ—¥æœŸæ—¶é—´ï¼š&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              &lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-time-system-conversion" tabindex="-1"><a class="header-anchor" href="#_3-time-system-conversion"><span>3. Time System Conversion</span></a></h3><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/TimeSystem.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/DateTime.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;AstCore/JulianDate.hpp&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;iostream&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    AST_USING_NAMESPACE</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    DateTime dttm;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2023</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;UTC æ—¥æœŸæ—¶é—´:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">year</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">month</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">              &lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot; &quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hour</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">minute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> dttm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">second</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è½¬æ¢ä¸ºå„’ç•¥æ—¥</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    JulianDate utc_jd;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aDateTimeToJD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(dttm, utc_jd);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;UTC å„’ç•¥æ—¥:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> utc_jd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">impreciseDay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è½¬æ¢ä¸ºTAIæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    JulianDate tai_jd;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aUTCToTAI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(utc_jd, tai_jd);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TAI å„’ç•¥æ—¥:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> tai_jd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">impreciseDay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // è½¬æ¢ä¸ºTTæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    JulianDate tt_jd;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    aUTCToTT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(utc_jd, tt_jd);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    std::cout </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;TT å„’ç•¥æ—¥:&quot;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> &lt;&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> tt_jd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">impreciseDay</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> std::endl;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="dependencies" tabindex="-1"><a class="header-anchor" href="#dependencies"><span>Dependencies</span></a></h2><ul><li><code>AstGlobal.h</code>: Project global definitions</li><li><code>AstUtil/StringView.hpp</code>: String processing support</li><li><code>AstCore/Constants.h</code>: Constant definitions</li></ul><h2 id="notes" tabindex="-1"><a class="header-anchor" href="#notes"><span>Notes</span></a></h2><ul><li>All time parameters default to seconds (s)</li><li>Angle parameters default to radians (rad)</li><li>Some conversion functions consider leap seconds, others do not - please check function documentation</li><li>Time representation using a single double has limited precision, for long time spans, use DaySecDuration or LongDuration</li><li>Date-time normalization functions have multiple versions (local time, UTC time, Beijing time), please choose according to needs</li><li>Conversions between Julian Date and Modified Julian Date have both precise and imprecise versions</li></ul><h2 id="api-reference" tabindex="-1"><a class="header-anchor" href="#api-reference"><span>API Reference</span></a></h2><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      Date.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &lt;string&gt;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>class Date;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æœˆä»½çš„å®Œæ•´è‹±æ–‡åç§°</span></span>
<span class="line"><span>/// @param month æœˆä»½ï¼Œä»1å¼€å§‹è®¡æ•°ï¼ˆ1è¡¨ç¤ºä¸€æœˆï¼‰</span></span>
<span class="line"><span>AST_CORE_CAPI const char* aMoonFullName(int month);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æœˆä»½çš„ç®€å†™è‹±æ–‡åç§°</span></span>
<span class="line"><span>/// @param month æœˆä»½ï¼Œä»1å¼€å§‹è®¡æ•°ï¼ˆ1è¡¨ç¤ºä¸€æœˆï¼‰</span></span>
<span class="line"><span>AST_CORE_CAPI const char* aMoonShortName(int month);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æ˜ŸæœŸå‡ çš„å®Œæ•´è‹±æ–‡åç§°</span></span>
<span class="line"><span>/// @param wday æ˜ŸæœŸå‡ ï¼Œä»0å¼€å§‹è®¡æ•°ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰</span></span>
<span class="line"><span>AST_CORE_CAPI const char* aWeekDayFullName(int wday);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æ˜ŸæœŸå‡ çš„ç®€å†™è‹±æ–‡åç§°</span></span>
<span class="line"><span>/// @param wday æ˜ŸæœŸå‡ ï¼Œä»0å¼€å§‹è®¡æ•°ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰</span></span>
<span class="line"><span>AST_CORE_CAPI const char* aWeekDayShortName(int wday);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´</span></span>
<span class="line"><span>AST_CORE_CAPI bool aIsLeapYear(int year);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æŸå¹´æŸæœˆçš„å¤©æ•°ï¼Œæ ¹æ®å¹´ä»½åˆ¤æ–­</span></span>
<span class="line"><span>/// @param month æœˆä»½ï¼Œä»1å¼€å§‹è®¡æ•°ï¼ˆ1è¡¨ç¤ºä¸€æœˆï¼‰</span></span>
<span class="line"><span>/// @param year å¹´ä»½</span></span>
<span class="line"><span>AST_CORE_CAPI int aDaysInMonthByYear(int month, int year);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æŸå¹´æŸæœˆçš„å¤©æ•°ï¼Œæ ¹æ®æ˜¯å¦ä¸ºé—°å¹´åˆ¤æ–­</span></span>
<span class="line"><span>/// @param month æœˆä»½ï¼Œä»1å¼€å§‹è®¡æ•°ï¼ˆ1è¡¨ç¤ºä¸€æœˆï¼‰</span></span>
<span class="line"><span>/// @param isLeapYear æ˜¯å¦ä¸ºé—°å¹´</span></span>
<span class="line"><span>AST_CORE_CAPI int aDaysInMonthByLeap(int month, bool isLeapYear);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æ—¥æœŸæ˜¯è¿™ä¸€å¹´çš„ç¬¬å‡ å¤©ï¼Œä»1å¼€å§‹è®¡æ•°</span></span>
<span class="line"><span>AST_CORE_CAPI int aDayOfYear(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–æ—¥æœŸæ˜¯è¿™ä¸€å‘¨çš„ç¬¬å‡ å¤©</span></span>
<span class="line"><span>/// @param date æ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>/// @return æ˜ŸæœŸå‡ ï¼Œä»0å¼€å§‹è®¡æ•°ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰</span></span>
<span class="line"><span>AST_CORE_CAPI int aDayOfWeek(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å¹´ä»½å’Œä¸€å¹´ä¸­çš„å¤©æ•°è½¬æ¢ä¸ºæ—¥æœŸ</span></span>
<span class="line"><span>AST_CORE_CAPI void aYDToDate(int year, int days, Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå¹´ä»½å’Œä¸€å¹´ä¸­çš„å¤©æ•°</span></span>
<span class="line"><span>AST_CORE_CAPI void aDateToYD(const Date&amp; date, int&amp; year, int&amp; days);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>AST_CORE_CAPI void aDateNormalize(Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå½“å¤©ä¸­åˆ12ç‚¹çš„å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>AST_CORE_CAPI int aDateToJDAtNoon(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å½“å¤©ä¸­åˆ12ç‚¹çš„å„’ç•¥æ—¥æ•°è½¬æ¢ä¸ºå½“å¤©æ—¥æœŸ</span></span>
<span class="line"><span>AST_CORE_CAPI void aJDToDateAtNoon(int jd, Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå½“å¤©00:00çš„å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>AST_CORE_CAPI ImpreciseJD aDateToJD(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å„’ç•¥æ—¥æ•°è½¬æ¢ä¸ºå½“å¤©æ—¥æœŸ</span></span>
<span class="line"><span>/// @param jd å½“å¤©00:00çš„å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>/// @param date æ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>/// @param secInDay å¯é€‰å‚æ•°ï¼Œç”¨äºè¿”å›å½“å¤©00:00åçš„ç§’æ•°</span></span>
<span class="line"><span>AST_CORE_CAPI void aJDToDate(ImpreciseJD jd, Date&amp; date, double* secInDay=nullptr);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå½“å¤©00:00çš„ç®€çº¦å„’ç•¥æ—¥</span></span>
<span class="line"><span>AST_CORE_CAPI int aDateToMJD(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å½“å¤©00:00çš„ç®€çº¦å„’ç•¥æ—¥è½¬æ¢ä¸ºå½“å¤©æ—¥æœŸ</span></span>
<span class="line"><span>AST_CORE_CAPI void aMJDToDate(int mjd, Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º</span></span>
<span class="line"><span>AST_CORE_API std::string aDateToString(const Date&amp; date);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ—¥æœŸ</span></span>
<span class="line"><span>class Date</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief æœˆä»½ï¼Œä»1å¼€å§‹è®¡æ•°ï¼ˆ1è¡¨ç¤ºä¸€æœˆï¼‰</span></span>
<span class="line"><span>    enum EMonth{</span></span>
<span class="line"><span>        eJAN = 1, eFEB, eMAR, eAPR, eMAY, eJUN,</span></span>
<span class="line"><span>        eJUL = 7, eAUG, eSEP, eOCT, eNOV, eDEC</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief æ˜ŸæœŸå‡ ï¼Œä»0å¼€å§‹è®¡æ•°ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼‰</span></span>
<span class="line"><span>    enum EWeekDay{</span></span>
<span class="line"><span>        eSUN = 0, eMON, eTUE, eWED, eTHU, eFRI, eSAT</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief æ ¹æ®å„’ç•¥æ—¥æ•°åˆ›å»ºæ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>    static Date FromJDAtNoon(int jd){</span></span>
<span class="line"><span>        Date date;</span></span>
<span class="line"><span>        aJDToDateAtNoon(jd, date);</span></span>
<span class="line"><span>        return date;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief æ ¹æ®å¹´ä»½ã€æœˆä»½ã€æ—¥æœŸåˆ›å»ºæ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>    static Date FromYMD(int year, int month, int day){</span></span>
<span class="line"><span>        return {year, month, day};</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief æ ¹æ®å¹´ä»½ã€ä¸€å¹´ä¸­çš„å¤©æ•°åˆ›å»ºæ—¥æœŸå¯¹è±¡</span></span>
<span class="line"><span>    static Date FromYD(int year, int days){</span></span>
<span class="line"><span>        Date date;</span></span>
<span class="line"><span>        aYDToDate(year, days, date);</span></span>
<span class="line"><span>        return date;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int year() const{return year_;}</span></span>
<span class="line"><span>    int&amp; year(){return year_;}</span></span>
<span class="line"><span>    int month() const{return month_;}</span></span>
<span class="line"><span>    int&amp; month(){return month_;}</span></span>
<span class="line"><span>    int day() const{return day_;}</span></span>
<span class="line"><span>    int&amp; day(){return day_;}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    void setYear(int year){year_ = year;}</span></span>
<span class="line"><span>    void setMonth(int month){month_ = month;}</span></span>
<span class="line"><span>    void setDay(int day){day_ = day;}</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è·å–æœˆä»½çš„å®Œæ•´è‹±æ–‡åç§°</span></span>
<span class="line"><span>    const char* monthFullName() const{</span></span>
<span class="line"><span>        return aMoonFullName(month_);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è·å–æœˆä»½çš„ç®€å†™è‹±æ–‡åç§°</span></span>
<span class="line"><span>    const char* monthShortName() const{</span></span>
<span class="line"><span>        return aMoonShortName(month_);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è·å–æ˜ŸæœŸå‡ çš„å®Œæ•´è‹±æ–‡åç§°</span></span>
<span class="line"><span>    const char* weekDayFullName() const{</span></span>
<span class="line"><span>        return aWeekDayFullName(dayOfWeek());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è·å–æ˜ŸæœŸå‡ çš„ç®€å†™è‹±æ–‡åç§°</span></span>
<span class="line"><span>    const char* weekDayShortName() const{</span></span>
<span class="line"><span>        return aWeekDayShortName(dayOfWeek());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è·å–æ—¥æœŸæ˜¯è¿™ä¸€å‘¨çš„ç¬¬å‡ å¤©</span></span>
<span class="line"><span>    int dayOfWeek() const{</span></span>
<span class="line"><span>        return aDayOfWeek(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief è·å–æ—¥æœŸæ˜¯è¿™ä¸€å¹´çš„ç¬¬å‡ å¤©ï¼Œä»1å¼€å§‹è®¡æ•°</span></span>
<span class="line"><span>    /// @return ç¬¬å‡ å¤©</span></span>
<span class="line"><span>    int dayOfYear() const{</span></span>
<span class="line"><span>        return aDayOfYear(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´</span></span>
<span class="line"><span>    bool isLeapYear() const{</span></span>
<span class="line"><span>        return aIsLeapYear(year_);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief è·å–è¯¥æœˆçš„å¤©æ•°</span></span>
<span class="line"><span>    int dayInMonth() const{</span></span>
<span class="line"><span>        return aDaysInMonthByYear(month_, year_);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>    int toJDAtNoon() const{</span></span>
<span class="line"><span>        return aDateToJDAtNoon(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå½“å¤©00:00çš„å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>    double toJD() const{</span></span>
<span class="line"><span>        return aDateToJD(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå½“å¤©00:00çš„ç®€çº¦å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>    double toMJD() const{</span></span>
<span class="line"><span>        return aDateToMJD(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief å°†å½“å¤©ä¸­åˆ12ç‚¹çš„å„’ç•¥æ—¥æ•°è½¬æ¢ä¸ºæ—¥æœŸ</span></span>
<span class="line"><span>    void fromJDAtNoon(int jd){</span></span>
<span class="line"><span>        aJDToDateAtNoon(jd, *this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief å°†å¹´ä»½ã€æœˆä»½ã€æ—¥æœŸè½¬æ¢ä¸ºæ—¥æœŸ</span></span>
<span class="line"><span>    void fromYMD(int year, int month, int day){</span></span>
<span class="line"><span>        year_ = year;</span></span>
<span class="line"><span>        month_ = month;</span></span>
<span class="line"><span>        day_ = day;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief å°†å¹´ä»½å’Œä¸€å¹´ä¸­çš„å¤©æ•°è½¬æ¢ä¸ºæ—¥æœŸ</span></span>
<span class="line"><span>    void fromYD(int year, int days){</span></span>
<span class="line"><span>        aYDToDate(year, days, *this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief å°†æ—¥æœŸè½¬æ¢ä¸ºå¹´ä»½å’Œä¸€å¹´ä¸­çš„å¤©æ•°</span></span>
<span class="line"><span>    void toYD(int&amp; year, int&amp; days) const{</span></span>
<span class="line"><span>        aDateToYD(*this, year, days);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief è§„èŒƒåŒ–æ—¥æœŸå¯¹è±¡ï¼Œå°†æ—¥æœŸè°ƒæ•´ä¸ºæœ‰æ•ˆæ—¥æœŸ</span></span>
<span class="line"><span>    void normalize(){</span></span>
<span class="line"><span>        aDateNormalize(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief è¿”å›è§„èŒƒåŒ–åçš„æ—¥æœŸå¯¹è±¡å‰¯æœ¬</span></span>
<span class="line"><span>    Date normalized() const {</span></span>
<span class="line"><span>        Date d = *this;</span></span>
<span class="line"><span>        aDateNormalize(d);</span></span>
<span class="line"><span>        return d;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    std::string toString() const{</span></span>
<span class="line"><span>        return aDateToString(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int year_;          ///&lt; å¹´</span></span>
<span class="line"><span>    int month_;         ///&lt; æœˆ</span></span>
<span class="line"><span>    int day_;           ///&lt; æ—¥</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å½“å¤©00:00çš„ç®€çº¦å„’ç•¥æ—¥è½¬æ¢ä¸ºå½“å¤©æ—¥æœŸ</span></span>
<span class="line"><span>A_ALWAYS_INLINE Date aMJDToDate(int mjd){</span></span>
<span class="line"><span>    Date date;</span></span>
<span class="line"><span>    aMJDToDate(mjd, date);</span></span>
<span class="line"><span>    return date;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      Time.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class Time;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @details å°†æ—¶é—´ä¸­çš„ç§’ã€åˆ†è¿›è¡Œè¿›ä½æˆ–å€Ÿä½è°ƒæ•´ï¼Œä½¿å…¶å¤„äºåˆç†èŒƒå›´å†…ï¼ˆ0-59ï¼‰</span></span>
<span class="line"><span>/// @param time è¦è§„èŒƒåŒ–çš„æ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>AST_CORE_CAPI void aTimeNormalize(Time&amp; time);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»æ€»ç§’æ•°åˆ›å»ºæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @details æ ¹æ®æ€»ç§’æ•°è®¡ç®—æ—¶ã€åˆ†ã€ç§’ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨æ—¶é—´å¯¹è±¡ä¸­</span></span>
<span class="line"><span>/// @param totalSecond æ€»ç§’æ•°</span></span>
<span class="line"><span>/// @param time è¦å­˜å‚¨ç»“æœçš„æ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>AST_CORE_CAPI void aTimeFromTotalSecond(double totalSecond, Time&amp; time);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ—¶é—´</span></span>
<span class="line"><span>class Time</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int hour() const{return hour_;}</span></span>
<span class="line"><span>    int&amp; hour(){return hour_;}</span></span>
<span class="line"><span>    int minute() const{return minute_;}</span></span>
<span class="line"><span>    int&amp; minute(){return minute_;}</span></span>
<span class="line"><span>    double second() const{return second_;}</span></span>
<span class="line"><span>    double&amp; second(){return second_;}</span></span>
<span class="line"><span>    void setHour(int hour){hour_ = hour;}</span></span>
<span class="line"><span>    void setMinute(int minute){minute_ = minute;}</span></span>
<span class="line"><span>    void setSecond(double second){second_ = second;}</span></span>
<span class="line"><span>    /// @brief è·å–æ—¶é—´å¯¹è±¡çš„æ€»ç§’æ•°</span></span>
<span class="line"><span>    /// @details è®¡ç®—æ—¶é—´å¯¹è±¡è¡¨ç¤ºçš„æ€»ç§’æ•°ï¼ŒåŒ…æ‹¬æ—¶ã€åˆ†ã€ç§’</span></span>
<span class="line"><span>    /// @return æ—¶é—´å¯¹è±¡çš„æ€»ç§’æ•°</span></span>
<span class="line"><span>    double totalSecond() const{return hour_ * 3600 + minute_ * 60 + second_;}</span></span>
<span class="line"><span>    /// @brief è·å–æ—¶é—´å¯¹è±¡çš„æ—¥åˆ†æ•°</span></span>
<span class="line"><span>    /// @details è®¡ç®—æ—¶é—´å¯¹è±¡è¡¨ç¤ºçš„æ—¥åˆ†æ•°ï¼ŒèŒƒå›´ä¸º0-1</span></span>
<span class="line"><span>    /// @return æ—¶é—´å¯¹è±¡çš„æ—¥åˆ†æ•°</span></span>
<span class="line"><span>    double dayFraction() const{return second_ / 86400.0 + minute_ / 1440.0 + hour_ / 24.0;}</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è§„èŒƒåŒ–æ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    /// @details å°†æ—¶é—´ä¸­çš„ç§’ã€åˆ†è¿›è¡Œè¿›ä½æˆ–å€Ÿä½è°ƒæ•´ï¼Œä½¿å…¶å¤„äºåˆç†èŒƒå›´å†…ï¼ˆ0-59ï¼‰</span></span>
<span class="line"><span>    void normalize(){</span></span>
<span class="line"><span>        aTimeNormalize(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief è·å–è§„èŒƒåŒ–åçš„æ—¶é—´å¯¹è±¡å‰¯æœ¬</span></span>
<span class="line"><span>    Time normalized() const{</span></span>
<span class="line"><span>        Time t = *this;</span></span>
<span class="line"><span>        aTimeNormalize(t);</span></span>
<span class="line"><span>        return t;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int    hour_;       ///&lt; æ—¶</span></span>
<span class="line"><span>    int    minute_;     ///&lt; åˆ†</span></span>
<span class="line"><span>    double second_;     ///&lt; ç§’</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span> </span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      DataTime.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstUtil/StringView.hpp&quot;</span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &quot;Date.hpp&quot;</span></span>
<span class="line"><span>#include &quot;Time.hpp&quot;</span></span>
<span class="line"><span>#include &lt;time.h&gt;</span></span>
<span class="line"><span>#include &lt;string&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>struct tm;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>constexpr double kTimeDefaultFormatPrecision = 3;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class DateTime;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–å½“å‰æœ¬åœ°æ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span>AST_CORE_CAPI void aCurrentDateTimeLocal(DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è·å–å½“å‰UTCæ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span>AST_CORE_CAPI void aCurrentDateTimeUTC(DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// --------------------</span></span>
<span class="line"><span>// æ—¥æœŸæ—¶é—´è§„èŒƒåŒ–</span></span>
<span class="line"><span>// --------------------</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @details å°†æ—¶é—´è°ƒæ•´åˆ°0-23æ—¶59åˆ†59ç§’ä¹‹é—´ï¼Œå¹¶è°ƒæ•´æ—¥æœŸåˆ°æ­£ç¡®çš„èŒƒå›´å†…ï¼Œä¸è€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeNormalize(DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡(æŒ‰UTCæ—¶é—´è§„èŒƒåŒ–)</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡è°ƒæ•´åˆ°0-23æ—¶59åˆ†60ç§’ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeNormalizeUTC(DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡(æŒ‰æœ¬åœ°æ—¶é—´è§„èŒƒåŒ–)</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡è°ƒæ•´åˆ°0-23æ—¶59åˆ†60ç§’ï¼Œè€ƒè™‘æ—¶åŒºå’Œé—°ç§’</span></span>
<span class="line"><span>/// @param dttm æœ¬åœ°æ—¶é—´</span></span>
<span class="line"><span>/// @param timezone æ—¶åŒºåç§»ï¼Œå•ä½ï¼šå°æ—¶</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeNormalizeLocal(DateTime&amp; dttm, int timezone);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡(æŒ‰åŒ—äº¬æ—¶é—´è§„èŒƒåŒ–)</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡è°ƒæ•´åˆ°0-23æ—¶59åˆ†60ç§’ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm åŒ—äº¬æ—¶é—´</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeNormalizeBJT(DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span>// æ—¥æœŸæ—¶é—´é€’å¢</span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ å¹´</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å¹´æ•°ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param years </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddYears(DateTime&amp; dttm, int years);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æœˆ</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„æœˆæ•°ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param months </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddMonths(DateTime&amp; dttm, int months);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¥</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å¤©æ•°ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œä¸è€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param days </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddDays(DateTime&amp; dttm, int days);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¥ï¼ˆUTCæ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å¤©æ•°(days*86400s)ï¼ˆUTCæ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param days å¢åŠ çš„å¤©æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddDaysUTC(DateTime&amp; dttm, int days);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¥ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å¤©æ•°(days*86400s)ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘æ—¶åŒºå’Œé—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param days å¢åŠ çš„å¤©æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @param timezone æ—¶åŒºåç§»ï¼Œå•ä½ï¼šå°æ—¶</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddDaysLocal(DateTime&amp; dttm, int days, int timezone);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¥ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å¤©æ•°(days*86400s)ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param days å¢åŠ çš„å¤©æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddDaysBJT(DateTime&amp; dttm, int days);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¶</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å°æ—¶æ•°(hours*3600s)ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œä¸è€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param hours å¢åŠ çš„å°æ—¶æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddHours(DateTime&amp; dttm, int hours);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¶ï¼ˆUTCæ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å°æ—¶æ•°(hours*3600s)ï¼ˆUTCæ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param hours å¢åŠ çš„å°æ—¶æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddHoursUTC(DateTime&amp; dttm, int hours);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¶ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å°æ—¶æ•°(hours*3600s)ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘æ—¶åŒºå’Œé—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param hours å¢åŠ çš„å°æ—¶æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @param timezone æ—¶åŒºåç§»ï¼Œå•ä½ï¼šå°æ—¶</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddHoursLocal(DateTime&amp; dttm, int hours, int timezone);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ æ—¶ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„å°æ—¶æ•°(hours*3600s)ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param hours å¢åŠ çš„å°æ—¶æ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddHoursBJT(DateTime&amp; dttm, int hours);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ åˆ†</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„åˆ†é’Ÿæ•°(minutes*60s)ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œä¸è€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param minutes å¢åŠ çš„åˆ†é’Ÿæ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddMinutes(DateTime&amp; dttm, int minutes);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ åˆ†ï¼ˆUTCæ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„åˆ†é’Ÿæ•°ï¼ˆUTCæ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param minutes å¢åŠ çš„åˆ†é’Ÿæ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddMinutesUTC(DateTime&amp; dttm, int minutes);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ åˆ†ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„åˆ†é’Ÿæ•°(minutes*60s)ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘æ—¶åŒºå’Œé—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param minutes å¢åŠ çš„åˆ†é’Ÿæ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @param timezone æ—¶åŒºåç§»ï¼Œå•ä½ï¼šå°æ—¶</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddMinutesLocal(DateTime&amp; dttm, int minutes, int timezone);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ åˆ†ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„åˆ†é’Ÿæ•°(minutes*60s)ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param minutes å¢åŠ çš„åˆ†é’Ÿæ•°ï¼Œå¯æ­£å¯è´Ÿ</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddMinutesBJT(DateTime&amp; dttm, int minutes);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ ç§’</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„ç§’æ•°ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œä¸è€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param seconds </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddSeconds(DateTime&amp; dttm, double seconds);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ ç§’ï¼ˆUTCæ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„ç§’æ•°ï¼ˆUTCæ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param seconds </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddSecondsUTC(DateTime&amp; dttm, double seconds);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ ç§’ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„ç§’æ•°ï¼ˆæœ¬åœ°æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘æ—¶åŒºå’Œé—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param seconds </span></span>
<span class="line"><span>/// @param timezone æ—¶åŒºåç§»ï¼Œå•ä½ï¼šå°æ—¶</span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddSecondsLocal(DateTime&amp; dttm, double seconds, int timezone);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å¢åŠ ç§’ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡å¢åŠ æŒ‡å®šçš„ç§’æ•°ï¼ˆåŒ—äº¬æ—¶é—´ï¼‰ï¼Œå¹¶è§„èŒƒåŒ–æ—¥æœŸæ—¶é—´å¯¹è±¡ï¼Œè€ƒè™‘é—°ç§’</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param seconds </span></span>
<span class="line"><span>/// @return </span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeAddSecondsBJT(DateTime&amp; dttm, double seconds);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span>// æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–</span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºå­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºæŒ‡å®šæ ¼å¼çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param format æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š&quot;%Y-%m-%d %H:%M:%S&quot;</span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormat(const DateTime&amp; dttm, StringView format, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºæ ¼é‡Œé«˜åˆ©å†æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºæ ¼é‡Œé«˜åˆ©å†æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š2025-11-21 12:34:56</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatGregorian(const DateTime&amp; dttm, std::string&amp; str, int precision = 3);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºæ ¼é‡Œé«˜åˆ©å†æ ¼å¼ï¼ˆè‹±æ–‡ï¼‰</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºæ ¼é‡Œé«˜åˆ©å†æ ¼å¼çš„å­—ç¬¦ä¸²ï¼ˆè‹±æ–‡ï¼‰ï¼Œä¾‹å¦‚ï¼š1 Jan 1970 00:00:00</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatGregorianEn(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºGMTæ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºGMTæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼šSat, 21 Nov 2025 12:34:56 GMT</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatGMT(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºISO 8601æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºISO 8601æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š2025-11-21T12:34:56Z</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatISO8601(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºç®€å•ISO 8601æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºISO 8601æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š2025-11-21T12:34:56Z</span></span>
<span class="line"><span>A_ALWAYS_INLINE err_t aDateTimeFormatISO(const DateTime&amp; dttm, std::string&amp; str)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return aDateTimeFormatISO8601(dttm, str);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºRFC 3339æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºRFC 3339æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š2025-11-21T12:34:56+08:00</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatRFC3339(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>#ifdef AST_ENABLE_DATETIME_FORMAT_RFC // å¯ç”¨å…¶ä»–RFCæ—¥æœŸæ—¶é—´æ ¼å¼åŒ–</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºRFC 1123æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºRFC 1123æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œ</span></span>
<span class="line"><span>/// ä¾‹å¦‚ï¼šSat, 21 Nov 2025 12:34:56 GMT</span></span>
<span class="line"><span>/// æ—¶åŒºå¿…é¡»ä½¿ç”¨ GMTï¼ˆRFC 1123 è¦æ±‚å§‹ç»ˆä½¿ç”¨æ ¼æ—å°¼æ²»æ—¶é—´ï¼‰</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatRFC1123(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºRFC 2822æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºRFC 2822æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œ</span></span>
<span class="line"><span>/// ä¾‹å¦‚ï¼šSat, 21 Nov 2025 12:34:56 +0800</span></span>
<span class="line"><span>///       Wed, 18 Feb 2015 23:16:09 GMT</span></span>
<span class="line"><span>/// æ—¶åŒºå¯ä»¥æ˜¯ &quot;+0000&quot; æ ¼å¼çš„æ•°å­—æ—¶åŒºï¼Œæˆ–è€…æ˜¯ &quot;GMT&quot;ã€&quot;UTC&quot; ç­‰æ ‡å‡†æ—¶åŒºåç§°</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeFormatRFC2822(const DateTime&amp; dttm, std::string&amp; str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#endif</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´ä¸ºé»˜è®¤æ ¼å¼</span></span>
<span class="line"><span>/// @details å°†æ—¥æœŸæ—¶é—´å¯¹è±¡æ ¼å¼åŒ–ä¸ºé»˜è®¤æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š2025-11-21 12:34:56.123</span></span>
<span class="line"><span>/// @param dttm </span></span>
<span class="line"><span>/// @param str </span></span>
<span class="line"><span>/// @return err_t </span></span>
<span class="line"><span>A_ALWAYS_INLINE err_t aDateTimeFormatDefault(const DateTime&amp; dttm, std::string&amp; str, int precision = kTimeDefaultFormatPrecision)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return aDateTimeFormatGregorian(dttm, str, precision);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span>// æ—¥æœŸæ—¶é—´è§£æ</span></span>
<span class="line"><span>// -------------</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£æISO 8601æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†ISO 8601æ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«ISO 8601æ ¼å¼æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseISO8601(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE err_t aDateTimeParseISO(StringView str, DateTime&amp; dttm)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return aDateTimeParseISO8601(str, dttm);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£æRFC 3339æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†RFC 3339æ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«RFC 3339æ ¼å¼æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseRFC3339(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£ææ ¼é‡Œé«˜åˆ©å†æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†æ ¼é‡Œé«˜åˆ©å†æ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«æ ¼é‡Œé«˜åˆ©å†æ ¼å¼æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseGregorian(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£ææ ¼é‡Œé«˜åˆ©å†æ ¼å¼ï¼ˆè‹±æ–‡ï¼‰çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†æ ¼é‡Œé«˜åˆ©å†æ ¼å¼ï¼ˆè‹±æ–‡ï¼‰çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«æ ¼é‡Œé«˜åˆ©å†æ ¼å¼ï¼ˆè‹±æ–‡ï¼‰æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseGregorianEn(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£æGMTæ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†GMTæ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«GMTæ ¼å¼æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseGMT(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£æè‡ªå®šä¹‰æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°†è‡ªå®šä¹‰æ ¼å¼çš„å­—ç¬¦ä¸²è§£æä¸ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @param str åŒ…å«è‡ªå®šä¹‰æ ¼å¼æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param format æ—¥æœŸæ—¶é—´æ ¼å¼ï¼Œå‚è€ƒstrptimeå‡½æ•°çš„æ ¼å¼è§„èŒƒ</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParse(StringView str, StringView format, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è§£æä»»æ„æ ¼å¼çš„æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @details å°è¯•è§£æå¤šç§æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ŒåŒ…æ‹¬ISO 8601ã€RFC 3339ã€æ ¼é‡Œé«˜åˆ©å†ç­‰</span></span>
<span class="line"><span>/// @param str åŒ…å«æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>/// @param dttm è¾“å‡ºå‚æ•°ï¼Œè§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>/// @return err_t é”™è¯¯ç ï¼ŒeNoErrorè¡¨ç¤ºæˆåŠŸ</span></span>
<span class="line"><span>AST_CORE_CAPI err_t aDateTimeParseAny(StringView str, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span>class DateTime</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief </span></span>
<span class="line"><span>    enum ETimeZone{</span></span>
<span class="line"><span>        eUTC = 0,   ///&lt; UTCæ—¶é—´ï¼ˆä¸œ0åŒºï¼‰</span></span>
<span class="line"><span>        eBJT = 8,   ///&lt; åŒ—äº¬æ—¶é—´ï¼ˆä¸œ8åŒºï¼‰</span></span>
<span class="line"><span>    };</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief ä»å„’ç•¥æ—¥æ•°åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    /// @param jd å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>    /// @return DateTime æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromJD(const JulianDate&amp; jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief ä»å„’ç•¥æ—¥æ•°åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    /// @param jd å„’ç•¥æ—¥æ•°</span></span>
<span class="line"><span>    /// @return DateTime æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    A_ALWAYS_INLINE</span></span>
<span class="line"><span>    static DateTime FromJulianDate(const JulianDate&amp; jd){return FromJD(jd);}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief ä»å­—ç¬¦ä¸²è§£ææ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span>    /// @param str åŒ…å«æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>    /// @param format æ—¥æœŸæ—¶é—´æ ¼å¼ï¼Œå‚è€ƒstrptimeå‡½æ•°çš„æ ¼å¼è§„èŒƒ</span></span>
<span class="line"><span>    /// @return DateTime è§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromString(StringView str, StringView format);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief ä»å­—ç¬¦ä¸²è§£ææ—¥æœŸæ—¶é—´ï¼ˆé»˜è®¤æ ¼å¼ï¼š&quot;yyyy-MM-dd HH:mm:ss&quot;ï¼‰</span></span>
<span class="line"><span>    /// @param str åŒ…å«æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>    /// @return DateTime è§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromString(StringView str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief ä»æ ¼é‡Œé«˜åˆ©å†æ—¥æœŸæ—¶é—´åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    /// @return DateTime æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromGregorian(StringView str);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief æ ¹æ®ç³»ç»Ÿæ—¶é—´åˆ›å»ºæ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromTm(const tm* time);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief æ ¹æ®time_tåˆ›å»ºæœ¬åœ°æ—¶é—´çš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromTimeTLocal(time_t time);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief æ ¹æ®time_tåˆ›å»ºUTCæ—¶é—´çš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static DateTime FromTimeTUTC(time_t time);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief ä»å­—ç¬¦ä¸²è§£ææ—¥æœŸæ—¶é—´ï¼ˆä»»æ„æ ¼å¼ï¼‰</span></span>
<span class="line"><span>    /// @param str åŒ…å«æ—¥æœŸæ—¶é—´çš„å­—ç¬¦ä¸²</span></span>
<span class="line"><span>    /// @return DateTime è§£æåçš„æ—¥æœŸæ—¶é—´å¯¹è±¡</span></span>
<span class="line"><span>    static DateTime Parse(StringView str){</span></span>
<span class="line"><span>        DateTime dttm;</span></span>
<span class="line"><span>        aDateTimeParseAny(str, dttm);</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>public: </span></span>
<span class="line"><span>    const Date&amp; date() const{return date_;}</span></span>
<span class="line"><span>    Date&amp; date() {return date_;}</span></span>
<span class="line"><span>    const Time&amp; time() const {return time_;}</span></span>
<span class="line"><span>    Time&amp; time() {return time_;}</span></span>
<span class="line"><span>    int year() const {return date_.year();}</span></span>
<span class="line"><span>    int&amp; year() {return date_.year();}</span></span>
<span class="line"><span>    int month() const {return date_.month();}</span></span>
<span class="line"><span>    int&amp; month() {return date_.month();}</span></span>
<span class="line"><span>    int day() const {return date_.day();}</span></span>
<span class="line"><span>    int&amp; day() {return date_.day();}</span></span>
<span class="line"><span>    int hour() const {return time_.hour();}</span></span>
<span class="line"><span>    int&amp; hour() {return time_.hour();}</span></span>
<span class="line"><span>    int minute() const {return time_.minute();}</span></span>
<span class="line"><span>    int&amp; minute() {return time_.minute();}</span></span>
<span class="line"><span>    double second() const {return time_.second();}</span></span>
<span class="line"><span>    double&amp; second() {return time_.second();}</span></span>
<span class="line"><span>    int dayOfYear() const {return date_.dayOfYear();}</span></span>
<span class="line"><span>    int dayOfWeek() const {return date_.dayOfWeek();}</span></span>
<span class="line"><span>    void setYear(int year) {date_.setYear(year);}</span></span>
<span class="line"><span>    void setMonth(int month) {date_.setMonth(month);}</span></span>
<span class="line"><span>    void setDay(int day) {date_.setDay(day);}</span></span>
<span class="line"><span>    void setHour(int hour) {time_.setHour(hour);}</span></span>
<span class="line"><span>    void setMinute(int minute) {time_.setMinute(minute);}</span></span>
<span class="line"><span>    void setSecond(double second) {time_.setSecond(second);}</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    void normalize(){</span></span>
<span class="line"><span>        aDateTimeNormalize(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void normalizeUTC(){</span></span>
<span class="line"><span>        aDateTimeNormalizeUTC(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void normalizeLocal(int timezone){</span></span>
<span class="line"><span>        aDateTimeNormalizeLocal(*this, timezone);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void normalizeBJT(){</span></span>
<span class="line"><span>        aDateTimeNormalizeBJT(*this);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime normalized() const{</span></span>
<span class="line"><span>        DateTime dttm = *this;</span></span>
<span class="line"><span>        dttm.normalize();</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime normalizedUTC() const{</span></span>
<span class="line"><span>        DateTime dttm = *this;</span></span>
<span class="line"><span>        dttm.normalizeUTC();</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime normalizedLocal(int timezone) const{</span></span>
<span class="line"><span>        DateTime dttm = *this;</span></span>
<span class="line"><span>        dttm.normalizeLocal(timezone);</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime normalizedBJT() const{</span></span>
<span class="line"><span>        DateTime dttm = *this;</span></span>
<span class="line"><span>        dttm.normalizeBJT();</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    std::string toString(int precision = 3) const{</span></span>
<span class="line"><span>        std::string str;</span></span>
<span class="line"><span>        aDateTimeFormatDefault(*this, str, precision);</span></span>
<span class="line"><span>        return str;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    void addYears(int years){</span></span>
<span class="line"><span>        aDateTimeAddYears(*this, years);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addMonths(int months){</span></span>
<span class="line"><span>        aDateTimeAddMonths(*this, months);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addDays(int days){</span></span>
<span class="line"><span>        aDateTimeAddDays(*this, days);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addDaysUTC(int days){</span></span>
<span class="line"><span>        aDateTimeAddDaysUTC(*this, days);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addDaysLocal(int days, int timezone){</span></span>
<span class="line"><span>        aDateTimeAddDaysLocal(*this, days, timezone);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addDaysBJT(int days){</span></span>
<span class="line"><span>        aDateTimeAddDaysBJT(*this, days);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addHours(int hours){</span></span>
<span class="line"><span>        aDateTimeAddHours(*this, hours);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addHoursUTC(int hours){</span></span>
<span class="line"><span>        aDateTimeAddHoursUTC(*this, hours);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addHoursLocal(int hours, int timezone){</span></span>
<span class="line"><span>        aDateTimeAddHoursLocal(*this, hours, timezone);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addHoursBJT(int hours){</span></span>
<span class="line"><span>        aDateTimeAddHoursBJT(*this, hours);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addMinutes(int minutes){</span></span>
<span class="line"><span>        aDateTimeAddMinutes(*this, minutes);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addMinutesUTC(int minutes){</span></span>
<span class="line"><span>        aDateTimeAddMinutesUTC(*this, minutes);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addMinutesLocal(int minutes, int timezone){</span></span>
<span class="line"><span>        aDateTimeAddMinutesLocal(*this, minutes, timezone);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addMinutesBJT(int minutes){</span></span>
<span class="line"><span>        aDateTimeAddMinutesBJT(*this, minutes);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addSeconds(double seconds){</span></span>
<span class="line"><span>        aDateTimeAddSeconds(*this, seconds);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addSecondsUTC(double seconds){</span></span>
<span class="line"><span>        aDateTimeAddSecondsUTC(*this, seconds);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addSecondsLocal(double seconds, int timezone){</span></span>
<span class="line"><span>        aDateTimeAddSecondsLocal(*this, seconds, timezone);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    void addSecondsBJT(double seconds){</span></span>
<span class="line"><span>        aDateTimeAddSecondsBJT(*this, seconds);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    DateTime&amp; operator += (double sec)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        this-&gt;second() += sec;  // é€‚ç”¨äºä»»ä½•æ—¶é—´å°ºåº¦ï¼ŒåŒ…æ‹¬è€ƒè™‘é—°ç§’çš„å’Œä¸è€ƒè™‘é—°ç§’çš„</span></span>
<span class="line"><span>        return *this;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime&amp; operator -= (double sec)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        this-&gt;second() -= sec;  // é€‚ç”¨äºä»»ä½•æ—¶é—´å°ºåº¦ï¼ŒåŒ…æ‹¬è€ƒè™‘é—°ç§’çš„å’Œä¸è€ƒè™‘é—°ç§’çš„</span></span>
<span class="line"><span>        return *this;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime operator + (double sec) const</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        auto dttm = DateTime{ *this };</span></span>
<span class="line"><span>        dttm += sec;</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DateTime operator -(double sec) const</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        auto dttm = DateTime{ *this };</span></span>
<span class="line"><span>        dttm -= sec;</span></span>
<span class="line"><span>        return dttm;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    Date date_;     ///&lt; æ—¥æœŸ</span></span>
<span class="line"><span>    Time time_;     ///&lt; æ—¶é—´</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE</span></span>
<span class="line"><span>DateTime aCurrentDateTimeLocal()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttm;</span></span>
<span class="line"><span>    aCurrentDateTimeLocal(dttm);</span></span>
<span class="line"><span>    return dttm;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE</span></span>
<span class="line"><span>DateTime aCurrentDateTimeUTC()</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttm;</span></span>
<span class="line"><span>    aCurrentDateTimeUTC(dttm);</span></span>
<span class="line"><span>    return dttm;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      JulianDate.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &quot;Duration.hpp&quot;</span></span>
<span class="line"><span>#include &quot;AstUtil/Constants.h&quot;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class JulianDate;</span></span>
<span class="line"><span>class Date;</span></span>
<span class="line"><span>class Time;</span></span>
<span class="line"><span>class DateTime;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å„’ç•¥æ—¥è½¬æ¢ä¸ºç®€çº¦å„’ç•¥æ—¥</span></span>
<span class="line"><span>AST_CORE_CAPI void aJDToMJD(const JulianDate&amp; jd, ModJulianDate&amp; mjd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†ç®€çº¦å„’ç•¥æ—¥è½¬æ¢ä¸ºå„’ç•¥æ—¥</span></span>
<span class="line"><span>AST_CORE_CAPI void aMJDToJD(const ModJulianDate&amp; mjd, JulianDate&amp; jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å„’ç•¥æ—¥è½¬æ¢ä¸ºç®€çº¦å„’ç•¥æ—¥</span></span>
<span class="line"><span>/// @warning æ³¨æ„ç”¨å•ä¸ªdoubleè¡¨ç¤ºçš„æ—¶é—´ç²¾åº¦ä¸é«˜</span></span>
<span class="line"><span>AST_CORE_API double aJDToMJD_Imprecise(const JulianDate&amp; jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†ç®€çº¦å„’ç•¥æ—¥Modified Julian Dateï¼ˆMJDï¼‰è½¬æ¢ä¸ºå„’ç•¥æ—¥</span></span>
<span class="line"><span>/// @warning æ³¨æ„ç”¨å•ä¸ªdoubleè¡¨ç¤ºçš„æ—¶é—´ç²¾åº¦ä¸é«˜</span></span>
<span class="line"><span>AST_CORE_API ImpreciseMJD aJDToMJD_Imprecise(ImpreciseJD jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†ç®€çº¦å„’ç•¥æ—¥Modified Julian Dateï¼ˆMJDï¼‰è½¬æ¢ä¸ºä¸ç²¾ç¡®çš„å„’ç•¥æ—¥</span></span>
<span class="line"><span>/// @warning æ³¨æ„ç”¨å•ä¸ªdoubleè¡¨ç¤ºçš„æ—¶é—´ç²¾åº¦ä¸é«˜</span></span>
<span class="line"><span>AST_CORE_API ImpreciseJD aMJDToJD_Imprecise(const ModJulianDate&amp; mjd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å„’ç•¥æ—¥è½¬æ¢ä¸ºç®€çº¦å„’ç•¥æ—¥Modified Julian Dateï¼ˆMJDï¼‰</span></span>
<span class="line"><span>/// @warning æ³¨æ„ç”¨å•ä¸ªdoubleè¡¨ç¤ºçš„æ—¶é—´ç²¾åº¦ä¸é«˜</span></span>
<span class="line"><span>AST_CORE_API ImpreciseJD aMJDToJD_Imprecise(ImpreciseMJD mjd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†æ—¥æœŸæ—¶é—´è½¬æ¢ä¸ºå„’ç•¥æ—¥</span></span>
<span class="line"><span>AST_CORE_CAPI void aDateTimeToJD(const DateTime&amp; dttm, JulianDate&amp; jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å°†å„’ç•¥æ—¥è½¬æ¢ä¸ºæ—¥æœŸæ—¶é—´</span></span>
<span class="line"><span>AST_CORE_CAPI void aJDToDateTime(const JulianDate&amp; jd, DateTime&amp; dttm);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief å„’ç•¥æ—¥</span></span>
<span class="line"><span>/// @details å„’ç•¥æ—¥ï¼ˆJulian Dateï¼‰æ˜¯ä¸€ç§ç”¨äºè¡¨ç¤ºæ—¶é—´çš„æ–¹æ³•ï¼Œå¸¸ç”¨äºå¤©æ–‡å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ã€‚</span></span>
<span class="line"><span>/// asté¡¹ç›®å°†å…¶å®ç°ä¸ºæ•´æ•°å¤© + å°æ•°ç§’çš„å½¢å¼ï¼Œä¿è¯æ•°å€¼ç²¾åº¦</span></span>
<span class="line"><span>class JulianDate</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief æ ¹æ®ä¸ç²¾ç¡®çš„å¤©æ•°åˆ›å»ºå„’ç•¥æ—¥å¯¹è±¡</span></span>
<span class="line"><span>    static JulianDate FromImpreciseDay(double JD){</span></span>
<span class="line"><span>        int day = static_cast&lt;int&gt;(JD);</span></span>
<span class="line"><span>        double second = (JD - day) * 86400.0;</span></span>
<span class="line"><span>        return JulianDate::FromDaySecond(day, second);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief æ ¹æ®å¤©æ•°å’Œç§’æ•°åˆ›å»ºå„’ç•¥æ—¥å¯¹è±¡</span></span>
<span class="line"><span>    static JulianDate FromDaySecond(int day, double second){</span></span>
<span class="line"><span>        return JulianDate{day, second};</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief æ ¹æ®æ—¥æœŸæ—¶é—´åˆ›å»ºå„’ç•¥æ—¥å¯¹è±¡</span></span>
<span class="line"><span>    static JulianDate FromDateTime(const DateTime&amp; dttm)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        JulianDate jd;</span></span>
<span class="line"><span>        aDateTimeToJD(dttm, jd);</span></span>
<span class="line"><span>        return jd;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    AST_CORE_API</span></span>
<span class="line"><span>    static JulianDate FromDateTime(int year, int month, int day, int hour, int minute, double second);</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è·å–ä¸ç²¾ç¡®çš„å¤©æ•°</span></span>
<span class="line"><span>    /// @return ä¸ç²¾ç¡®çš„å¤©æ•°</span></span>
<span class="line"><span>    double impreciseDay() const{return day_ + second_ /86400.;}</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief è®¾ç½®ä¸ç²¾ç¡®çš„å¤©æ•°</span></span>
<span class="line"><span>    void setImpreciseDay(double jd){</span></span>
<span class="line"><span>        int day = static_cast&lt;int&gt;(jd);</span></span>
<span class="line"><span>        double second = (jd - day) * 86400.0;</span></span>
<span class="line"><span>        setDaySecond(day, second);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int day() const{return day_;}</span></span>
<span class="line"><span>    int&amp; day(){return day_;}</span></span>
<span class="line"><span>    double second() const {return second_;}</span></span>
<span class="line"><span>    double&amp; second(){return second_;}</span></span>
<span class="line"><span>    void setDay(int day){day_ = day;}</span></span>
<span class="line"><span>    void setSecond(double sec){second_ = sec;}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief è·å–å¤©æ•°å’Œç§’æ•°</span></span>
<span class="line"><span>    void getDaySecond(int&amp; day, double&amp; second) const{</span></span>
<span class="line"><span>        day = day_;</span></span>
<span class="line"><span>        second = second_;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è®¾ç½®å¤©æ•°å’Œç§’æ•°</span></span>
<span class="line"><span>    void setDaySecond(int day, double second){</span></span>
<span class="line"><span>        day_ = day;</span></span>
<span class="line"><span>        second_ = second;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è·å–å°æ•°éƒ¨åˆ†çš„æ—¥æ•°</span></span>
<span class="line"><span>    double dayFractional() const{</span></span>
<span class="line"><span>        return second_ / kSecondsPerDay;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è®¾ç½®å°æ•°éƒ¨åˆ†çš„æ—¥æ•°</span></span>
<span class="line"><span>    void setDayFractional(double df){</span></span>
<span class="line"><span>        second_ = df * kSecondsPerDay;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è®¡ç®—å„’ç•¥æ—¥ä¸ J2000.0 å†å…ƒçš„æ—¶é—´å·®ï¼ˆå„’ç•¥ä¸–çºªï¼‰</span></span>
<span class="line"><span>    double julianCenturyFromJ2000() const{</span></span>
<span class="line"><span>        return daysFromJ2000TT() / kDaysPerJulianCentury;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    /// @brief è®¡ç®—å„’ç•¥æ—¥ä¸ J2000.0 å†å…ƒçš„æ—¶é—´å·®ï¼ˆå„’ç•¥æ—¥ï¼‰</span></span>
<span class="line"><span>    double daysFromJ2000TT() const{</span></span>
<span class="line"><span>        return ((day_ - kJ2000Epoch) + dayFractional());</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    JulianDate&amp; operator += (double sec)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        this-&gt;second() += sec;  // é€‚ç”¨äºä»»ä½•æ—¶é—´å°ºåº¦ï¼ŒåŒ…æ‹¬è€ƒæ ¸é—°ç§’çš„å’Œä¸è€ƒè™‘é—°ç§’çš„</span></span>
<span class="line"><span>        return *this;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    JulianDate&amp; operator -= (double sec)</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        this-&gt;second() -= sec;  // é€‚ç”¨äºä»»ä½•æ—¶é—´å°ºåº¦ï¼ŒåŒ…æ‹¬è€ƒæ ¸é—°ç§’çš„å’Œä¸è€ƒè™‘é—°ç§’çš„</span></span>
<span class="line"><span>        return *this;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    JulianDate operator + (double sec) const</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        JulianDate jd{ *this };</span></span>
<span class="line"><span>        jd += sec;</span></span>
<span class="line"><span>        return jd;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    JulianDate operator - (double sec) const</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        JulianDate jd{ *this };</span></span>
<span class="line"><span>        jd -= sec;</span></span>
<span class="line"><span>        return jd;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    DaySecDuration operator - (const JulianDate&amp; other) const</span></span>
<span class="line"><span>    {</span></span>
<span class="line"><span>        return {day() - other.day(), second() - other.second()};</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int    day_;     // å¤©æ•°éƒ¨åˆ† day part of julian date</span></span>
<span class="line"><span>    double second_;  // ç§’æ•°éƒ¨åˆ† second part of julia date</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      ModJulianDate.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      30.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &quot;JulianDate.hpp&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ç®€çº¦å„’ç•¥æ—¥</span></span>
<span class="line"><span>class ModJulianDate: protected JulianDate</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    using JulianDate::JulianDate;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    using JulianDate::day;</span></span>
<span class="line"><span>    using JulianDate::second;</span></span>
<span class="line"><span>    using JulianDate::setDay;</span></span>
<span class="line"><span>    using JulianDate::setSecond;</span></span>
<span class="line"><span>    using JulianDate::getDaySecond;</span></span>
<span class="line"><span>    using JulianDate::setDaySecond;</span></span>
<span class="line"><span>    using JulianDate::dayFractional;</span></span>
<span class="line"><span>    using JulianDate::setDayFractional;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    using JulianDate::impreciseDay;</span></span>
<span class="line"><span>    using JulianDate::setImpreciseDay;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    using JulianDate::operator +=;</span></span>
<span class="line"><span>    using JulianDate::operator -=;</span></span>
<span class="line"><span>    using JulianDate::operator +;</span></span>
<span class="line"><span>    using JulianDate::operator -;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>};</span></span>
<span class="line"><span> </span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      Duration.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &lt;stdint.h&gt;     // for int64_t</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span> </span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief çŸ­æ—¶é•¿</span></span>
<span class="line"><span>class ShortDuration</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    double second() const{return second_;}</span></span>
<span class="line"><span>    double&amp; second(){return second_;}</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    double second_;         // ç§’æ•°</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief é•¿æ—¶é•¿</span></span>
<span class="line"><span>class LongDuration</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è·å–æ•´æ•°ç§’éƒ¨åˆ†</span></span>
<span class="line"><span>    int64_t integer() const{return integer_;}</span></span>
<span class="line"><span>    int64_t&amp; integer(){return integer_;}</span></span>
<span class="line"><span>    /// @brief è·å–å°æ•°ç§’éƒ¨åˆ†</span></span>
<span class="line"><span>    double fractional() const{return fractional_;}</span></span>
<span class="line"><span>    double&amp; fractional(){return fractional_;}</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    /// @brief æ—¶é•¿å‡æ³•è¿ç®—ç¬¦</span></span>
<span class="line"><span>    /// @param other å¦ä¸€ä¸ªæ—¶é•¿</span></span>
<span class="line"><span>    /// @return ä¸¤ä¸ªæ—¶é•¿çš„å·®å€¼ï¼ˆç§’æ•°ï¼‰</span></span>
<span class="line"><span>    double operator-(const LongDuration&amp; other) const{</span></span>
<span class="line"><span>        return (integer_ - other.integer_) + (fractional_ - other.fractional_);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int64_t integer_;       // æ•´æ•°ç§’éƒ¨åˆ†</span></span>
<span class="line"><span>    double  fractional_;    // å°æ•°ç§’éƒ¨åˆ†</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief æ•´æ•°å¤© + å°æ•°ç§’æ—¶é•¿ï¼ˆä¹Ÿèƒ½è§£å†³é•¿æ—¶é•¿é—®é¢˜ï¼‰</span></span>
<span class="line"><span>class DaySecDuration</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    /// @brief è·å–æ•´æ•°å¤©éƒ¨åˆ†</span></span>
<span class="line"><span>    int day() const{return day_;}</span></span>
<span class="line"><span>    int&amp; day(){return day_;}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    /// @brief è·å–å°æ•°éƒ¨åˆ†çš„ç§’æ•°</span></span>
<span class="line"><span>    double second() const{return second_;}</span></span>
<span class="line"><span>    double&amp; second(){return second_;}</span></span>
<span class="line"><span>    /// @warning </span></span>
<span class="line"><span>    /// æ³¨æ„ï¼štotalSecond() æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªä¸ç²¾ç¡®çš„doubleå€¼ï¼Œ</span></span>
<span class="line"><span>    /// è®¡ç®—ä¼šå¼•å…¥èˆå…¥è¯¯å·®ã€‚ä¸”ä¸è€ƒè™‘é—°ç§’ç­‰å› ç´ ã€‚</span></span>
<span class="line"><span>    /// @return æ€»ç§’æ•°ï¼ˆæ•´æ•°å¤©ç§’æ•° + å°æ•°ç§’æ•°ï¼‰</span></span>
<span class="line"><span>    double totalSecond() const{return day_ * 86400.0 + second_;}</span></span>
<span class="line"><span>public:</span></span>
<span class="line"><span>    int    day_;            // æ•´æ•°å¤©éƒ¨åˆ†</span></span>
<span class="line"><span>    double second_;         // å°æ•°ç§’éƒ¨åˆ†</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-hpp line-numbers-mode" data-highlighter="shiki" data-ext="hpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-hpp"><span class="line"><span>///</span></span>
<span class="line"><span>/// @file      TimeSystem.hpp</span></span>
<span class="line"><span>/// @brief     </span></span>
<span class="line"><span>/// @details   ~</span></span>
<span class="line"><span>/// @author    axel</span></span>
<span class="line"><span>/// @date      21.11.2025</span></span>
<span class="line"><span>/// @copyright ç‰ˆæƒæ‰€æœ‰ (C) 2025-present, asté¡¹ç›®.</span></span>
<span class="line"><span>///</span></span>
<span class="line"><span>/// asté¡¹ç›®ï¼ˆhttps://github.com/space-ast/astï¼‰</span></span>
<span class="line"><span>/// æœ¬é¡¹ç›®åŸºäº Apache 2.0 å¼€æºè®¸å¯è¯åˆ†å‘ã€‚</span></span>
<span class="line"><span>/// æ‚¨å¯åœ¨éµå®ˆè®¸å¯è¯æ¡æ¬¾çš„å‰æä¸‹ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬è½¯ä»¶ã€‚</span></span>
<span class="line"><span>/// è®¸å¯è¯å…¨æ–‡è¯·è§ï¼š</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>///    http://www.apache.org/licenses/LICENSE-2.0</span></span>
<span class="line"><span>/// </span></span>
<span class="line"><span>/// é‡è¦é¡»çŸ¥ï¼š</span></span>
<span class="line"><span>/// è½¯ä»¶æŒ‰â€œç°æœ‰çŠ¶æ€â€æä¾›ï¼Œæ— ä»»ä½•æ˜ç¤ºæˆ–æš—ç¤ºçš„æ‹…ä¿æ¡ä»¶ã€‚</span></span>
<span class="line"><span>/// é™¤éæ³•å¾‹è¦æ±‚æˆ–ä¹¦é¢åŒæ„ï¼Œä½œè€…ä¸è´¡çŒ®è€…ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</span></span>
<span class="line"><span>/// ä½¿ç”¨æœ¬è½¯ä»¶æ‰€äº§ç”Ÿçš„é£é™©ï¼Œéœ€ç”±æ‚¨è‡ªè¡Œæ‰¿æ‹…ã€‚</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#pragma once</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>#include &quot;AstGlobal.h&quot;</span></span>
<span class="line"><span>#include &quot;AstCore/Constants.h&quot;</span></span>
<span class="line"><span>#include &quot;AstCore/DateTime.hpp&quot;</span></span>
<span class="line"><span>#include &quot;AstCore/JulianDate.hpp&quot;</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>AST_NAMESPACE_BEGIN</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class JulianDate;</span></span>
<span class="line"><span>class DateTime;</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åŸå­æ—¶(TAI) è½¬æ¢ä¸º åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>/// @param tmTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param tmTT åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE void aTAIToTT(const Time&amp; tmTAI, Time&amp; tmTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    tmTT = aTAIToTT(tmTAI);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE Time aTAIToTT(const Time&amp; tmTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return tmTAI + kTTMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åœ°çƒæ—¶(TT) è½¬æ¢ä¸º åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param tmTT åœ°çƒæ—¶(TT) </span></span>
<span class="line"><span>/// @param tmTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE void aTTToTAI(const Time&amp; tmTT, Time&amp; tmTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    tmTAI = aTTToTAI(tmTT);</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE Time aTTToTAI(const Time&amp; tmTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return tmTT - kTTMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åŸå­æ—¶(TAI) è½¬æ¢ä¸º GPSæ—¶</span></span>
<span class="line"><span>/// @param tmTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param tmGPS GPSæ—¶</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE void aTAIToGPS(const Time&amp; tmTAI, Time&amp; tmGPS)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    tmGPS = tmTAI + kGPSMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE Time aTAIToGPS(const Time&amp; tmTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return tmTAI + kGPSMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»GPSæ—¶ è½¬æ¢ä¸º åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param tmGPS GPSæ—¶</span></span>
<span class="line"><span>/// @param tmTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE void aGPSToTAI(const Time&amp; tmGPS, Time&amp; tmTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    tmTAI = tmGPS - kGPSMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>template&lt;typename Time&gt;</span></span>
<span class="line"><span>A_ALWAYS_INLINE Time aGPSToTAI(const Time&amp; tmGPS)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    return tmGPS - kGPSMinusTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åŸå­æ—¶(TAI) è½¬æ¢ä¸º åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>/// @param jdTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param jdUTC åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>AST_CORE_API void aTAIToUTC(const JulianDate&amp; jdTAI, JulianDate&amp; jdUTC);</span></span>
<span class="line"><span>AST_CORE_API void aTAIToUTC(const DateTime&amp; dttmTAI, DateTime&amp; dttmUTC);</span></span>
<span class="line"><span>A_ALWAYS_INLINE JulianDate aTAIToUTC(const JulianDate&amp; jdTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    JulianDate jdUTC;</span></span>
<span class="line"><span>    aTAIToUTC(jdTAI, jdUTC);</span></span>
<span class="line"><span>    return jdUTC;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>A_ALWAYS_INLINE DateTime aTAIToUTC(const DateTime&amp; dttmTAI)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttmUTC;</span></span>
<span class="line"><span>    aTAIToUTC(dttmTAI, dttmUTC);</span></span>
<span class="line"><span>    return dttmUTC;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åè°ƒä¸–ç•Œæ—¶(UTC) è½¬æ¢ä¸º åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>/// @param jdUTC åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>/// @param jdTAI åŸå­æ—¶(TAI)</span></span>
<span class="line"><span>AST_CORE_API void aUTCToTAI(const JulianDate&amp; jdUTC, JulianDate&amp; jdTAI);</span></span>
<span class="line"><span>AST_CORE_API void aUTCToTAI(const DateTime&amp; dttmUTC, DateTime&amp; dttmTAI);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE JulianDate aUTCToTAI(const JulianDate&amp; jdUTC)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    JulianDate jdTAI;</span></span>
<span class="line"><span>    aUTCToTAI(jdUTC, jdTAI);</span></span>
<span class="line"><span>    return jdTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>A_ALWAYS_INLINE DateTime aUTCToTAI(const DateTime&amp; dttmUTC)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttmTAI;</span></span>
<span class="line"><span>    aUTCToTAI(dttmUTC, dttmTAI);</span></span>
<span class="line"><span>    return dttmTAI;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åè°ƒä¸–ç•Œæ—¶(UTC) è½¬æ¢ä¸º åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>/// @param jdUTC åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>/// @param jdTT åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>AST_CORE_API void aUTCToTT(const JulianDate&amp; jdUTC, JulianDate&amp; jdTT);</span></span>
<span class="line"><span>AST_CORE_API void aUTCToTT(const DateTime&amp; dttmUTC, DateTime&amp; dttmTT);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE JulianDate aUTCToTT(const JulianDate&amp; jdUTC)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    JulianDate jdTT;</span></span>
<span class="line"><span>    aUTCToTT(jdUTC, jdTT);</span></span>
<span class="line"><span>    return jdTT;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>A_ALWAYS_INLINE DateTime aUTCToTT(const DateTime&amp; dttmUTC)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttmTT;</span></span>
<span class="line"><span>    aUTCToTT(dttmUTC, dttmTT);</span></span>
<span class="line"><span>    return dttmTT;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åè°ƒä¸–ç•Œæ—¶(UTC) è½¬æ¢ä¸º ä¸–ç•Œæ—¶(UT1)</span></span>
<span class="line"><span>AST_CORE_API void aUTCToUT1(const JulianDate&amp; jdUTC, JulianDate&amp; jdUT1);</span></span>
<span class="line"><span>AST_CORE_API void aUTCToUT1(const DateTime&amp; dttmUTC, DateTime&amp; dttmUT1);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åœ°çƒæ—¶(TT) è½¬æ¢ä¸º åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>/// @param jdTT åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>/// @param jdUTC åè°ƒä¸–ç•Œæ—¶(UTC)</span></span>
<span class="line"><span>AST_CORE_API void aTTToUTC(const JulianDate&amp; jdTT, JulianDate&amp; jdUTC);</span></span>
<span class="line"><span>AST_CORE_API void aTTToUTC(const DateTime&amp; dttmTT, DateTime&amp; dttmUTC);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>A_ALWAYS_INLINE JulianDate aTTToUTC(const JulianDate&amp; jdTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    JulianDate jdUTC;</span></span>
<span class="line"><span>    aTTToUTC(jdTT, jdUTC);</span></span>
<span class="line"><span>    return jdUTC;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>A_ALWAYS_INLINE DateTime aTTToUTC(const DateTime&amp; dttmTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttmUTC;</span></span>
<span class="line"><span>    aTTToUTC(dttmTT, dttmUTC);</span></span>
<span class="line"><span>    return dttmUTC;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief ä»åœ°çƒæ—¶(TT) è½¬æ¢ä¸ºè´¨å¿ƒåŠ¨åŠ›å­¦æ—¶(TDB)</span></span>
<span class="line"><span>/// @param jdTT åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>/// @param jdTDB è´¨å¿ƒåŠ¨åŠ›å­¦æ—¶(TDB)</span></span>
<span class="line"><span>AST_CORE_API void aTTToTDB(const JulianDate&amp; jdTT, JulianDate&amp; jdTDB);</span></span>
<span class="line"><span>AST_CORE_API void aTTToTDB(const DateTime&amp; dttmTT, DateTime&amp; dttmTDB);</span></span>
<span class="line"><span>A_ALWAYS_INLINE JulianDate aTTToTDB(const JulianDate&amp; jdTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    JulianDate jdTDB;</span></span>
<span class="line"><span>    aTTToTDB(jdTT, jdTDB);</span></span>
<span class="line"><span>    return jdTDB;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>A_ALWAYS_INLINE DateTime aTTToTDB(const DateTime&amp; dttmTT)</span></span>
<span class="line"><span>{</span></span>
<span class="line"><span>    DateTime dttmTDB;</span></span>
<span class="line"><span>    aTTToTDB(dttmTT, dttmTDB);</span></span>
<span class="line"><span>    return dttmTDB;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è®¡ç®— è´¨å¿ƒåŠ¨åŠ›å­¦æ—¶(TDB) æ—¶é—´ä¸ åœ°çƒæ—¶(TT) æ—¶é—´çš„å·®å€¼</span></span>
<span class="line"><span>/// @param jdTT åœ°çƒæ—¶(TT)</span></span>
<span class="line"><span>/// @return è´¨å¿ƒåŠ¨åŠ›å­¦æ—¶(TDB) æ—¶é—´ä¸ åœ°çƒæ—¶(TT) æ—¶é—´çš„å·®å€¼</span></span>
<span class="line"><span>AST_CORE_CAPI double aTDBMinusTT(const JulianDate&amp; jdTT);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>/// @brief è®¡ç®—å„’ç•¥ä¸–çºªæ•°ï¼Œä»¥ J2000.0 ä¸ºåŸºå‡†</span></span>
<span class="line"><span>/// @param jd å„’ç•¥æ—¥</span></span>
<span class="line"><span>/// @return å„’ç•¥ä¸–çºªæ•°</span></span>
<span class="line"><span>AST_CORE_CAPI double aJulianCenturyFromJ2000(const JulianDate&amp; jd);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>AST_NAMESPACE_END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/space-ast/ast/edit/master/docs/en/core/time.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">Last Updated: </span><time class="vp-meta-info" datetime="2026-01-21T11:03:44.000Z" data-allow-mismatch>1/21/26, 11:03 AM</time></div><div class="contributors"><span class="vp-meta-label">Contributors: </span><!--[--><!--[--><span class="vp-meta-info" title="email: space_ast@163.com">axel</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/ast/en/core/sofa.html" aria-label="SOFA Astronomical Calculation Module"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><!---->SOFA Astronomical Calculation Module</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">ast project</div><div class="vp-copyright">Copyright Â© 2026 space-ast </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/ast/assets/app-B_UNdQRb.js" defer></script>
  </body>
</html>
